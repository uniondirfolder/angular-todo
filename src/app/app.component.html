<ng-sidebar-container style="height: 100vh">

    <ng-sidebar (onClosed)="onClosedMenu()" [animate]="true" [autoFocus]="false" [closeOnClickBackdrop]="true"
      [closeOnClickOutside]="false" [mode]="menuMode" [(opened)]="menuOpened" [position]="menuPosition"
      [showBackdrop]="showBackdrop">

      <div class="sidebar" data-color="purple" data-step="1"
        data-intro="Фільтрація завдань, додати нову/ видалити / редагування категорій" data-position='right'>

        <app-categories

          (addCategory)="addCategory($event)"
          (deleteCategory)="deleteCategory($event)"
          (searchCategory)="searchCategory($event)" 
          (selectCategory)="selectCategory($event)"         
          (updateCategory)="updateCategory($event)"  
          
          [categories]="categories"
          [selectedCategory]="selectedCategory" 
          [uncompletedTotal]="uncompletedTotalTasksCount">

        </app-categories>

      </div>

    </ng-sidebar>

    <div ng-sidebar-content>

      <div class="main-panel">

        <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">

          <app-header (toggleStat)="toggleStat($event)" (toggleMenu)="toggleMenu()"
            [categoryName]="selectedCategory.id !==0 ? selectedCategory.title: 'Всі'" [showStat]="showStat">
          </app-header>

        </nav>

        <div class="content">
          <div class="container-fluid">

            <div data-step='2' data-intro="Список всіх завдань, статистика" data-position='top'>
              <app-stat [completeTasksInCategory]="completedCountInCategory" [showStat]="showStat"
                [totalTasksInCategory]="totalTasksCountInCategory"
                [uncompleteTasksInCategory]="uncompletedCountInCategory">
              </app-stat>

            </div>

            <div class="row">

              <div class="col-md-12">

                <app-tasks [tasks]="tasks" [priorities]="priorities" (updateTask)="onUpdateTask($event)"
                  (deleteTask)="onDeleteTask($event)" (selectCategory)="onSelectCategory($event)"
                  (addTask)="onAddTask($event)" (filterByTitle)="onSearchTasks($event)"
                  (filterByStatus)="onFilterTasksByStatus($event)" (filterByPriority)="onFilterTasksByPriority($event)">
                </app-tasks>

              </div>
            </div>
          </div>
        </div>

        <app-footer></app-footer>

      </div>

    </div>

</ng-sidebar-container>